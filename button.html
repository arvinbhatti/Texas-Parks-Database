<!DOCTYPE html>
<html>
<body>

<h2>Click to Refresh Data</h2>
<button type="button" onclick="run()" id="id">Click Me!</button>
 <script type="text/javascript">

 	//document.getElementById('id').addEventListener('click', myListener);

 // 	function myListener(e) {
 // 		e.preventDefault();
 //  		alert('Hello world!');
	// }




function Click() {
    this.handlers = [];  // observers or subscribe list
}
 
Click.prototype = {
 
    subscribe: function(fn) {
        this.handlers.push(fn);
    },
 
    unsubscribe: function(fn) {
        this.handlers = this.handlers.filter(
            function(item) {
                if (item !== fn) {
                    return item;
                }
            }
        );
    },
 
    fire: function(o, thisObj) {
        var scope = thisObj || window;
        this.handlers.forEach(function(item) {
            item.call(scope, o);
        });
    }
}

 
function run() {
 
    var clickHandler = function(item) { 
        log.add("fired: " + item); 
    };
 
    var click = new Click();
 
    click.subscribe(clickHandler);
    click.fire('event #1');
    click.unsubscribe(clickHandler);
    click.fire('event #2');
    click.subscribe(clickHandler);
    click.fire('event #3');
}



 </script>
</body>
</html>
